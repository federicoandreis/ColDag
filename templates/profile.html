{% extends "base.html" %}

{% block content %}
<h1>User Profile</h1>
<form method="POST">
    <label for="full_name">Full Name:</label>
    <input type="text" id="full_name" name="full_name" value="{{ current_user.profile.full_name if current_user.profile else '' }}">
    
    <label for="bio">Bio:</label>
    <textarea id="bio" name="bio">{{ current_user.profile.bio if current_user.profile else '' }}</textarea>
    
    <label for="location">Location:</label>
    <input type="text" id="location" name="location" value="{{ current_user.profile.location if current_user.profile else '' }}">
    
    <input type="submit" value="Update Profile">
</form>

<h2>Account Information</h2>
<p><strong>Username:</strong> {{ current_user.username }}</p>
<p><strong>Email:</strong> {{ current_user.email }}</p>
<p><strong>Account Created:</strong> {{ current_user.registered_on.strftime('%Y-%m-%d %H:%M:%S') }}</p>
<p><strong>Last Login:</strong> {{ current_user.last_login.strftime('%Y-%m-%d %H:%M:%S') if current_user.last_login else 'Never' }}</p>

<h2>Security</h2>
<p><a href="{{ url_for('reset_password', token=current_user.generate_password_reset_token()) }}">Change Password</a></p>
{% endblock %}
